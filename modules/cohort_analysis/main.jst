{% from 'utilities/rsync_datafiles.jst' import rsync_sample_datafiles with context %}
{% from 'modules/cohort_analysis/snpsniffer.jst' import snpsniffer with context %}

{% macro cohort_analysis(samples) %}

{% if tasks.cohort_analysis_snpsniffer | default(false) %}
    {% set location %}temp/cohort_analysis/snpsniffer/{{ study }}{% endset %}
    {{- rsync_sample_datafiles(samples, 'snpsniffer_vcf', location) }}
    {{- snpsniffer(samples) }}
{% endif %}

{% endmacro %}
